# Workshop Order (IBM)

    - Domain Events Discovery:
        - Begin by writing each domain event on a sticky note with a few words and a verb in the past tense. 
            - In this example, orange sticky notes are used. 
            - Describe what happened. 
            - At first, "storm" the events by having each domain expert generate an individual list of domain events. 
            - Initially, you might not need to place the events on the ordered timeline. 
            - The events must be worded in a way that is meaningful to the domain experts and business stakeholder. 
            - You're explaining what happens in business terms, not what happens inside the implementation of the system.
        - You don't need to describe all the events in your domain, but you must cover the process that you're interested in exploring from end to end. 
            - Make sure that you identify the start and end events and place them on the timeline at the beginning and end of the wall. 
            - Place the other events that you identified between those two endpoints in the closest approximation that the team can agree on in a sequential order. 
            - Don't worry about overlaps, as you address them later.
    - Tell the story:
        - In this step, you retell the story by talking about how to relate events to personas. A member of the team takes on the perspective of a persona in the domain and asks which events follow which other events. This team member is often the facilitator, but others can play this role as well.- For example, the facilitator can take the perspective of a manufacturer who wants to send a widget to a customer. Start at the beginning of that persona's interaction and ask, "What happens next?" Pick up and rearrange the events that the team storms. If you discover events that are duplicates, take the duplicate events off the wall. If events are in the wrong order, move them into the right order.
        - When some parts are unclear, add questions or comments by using a different color of sticky notes. In this example, red sticky notes are used. Those sticky notes indicate that the team needs to follow up and clarify issues later. Likewise, use this time to document assumptions on the definition sticky notes. Step 2 is also a good time to rephrase events as you go through the story. Sometimes, you need to rephrase an event description by putting the verb in past tense or adjust the terms that are used to relate clearly to other identified events.
        - In this step, you focus on the mainline "happy" end-to-end path to avoid getting lost in details of exceptions and error handling. Exceptions can be added later.
    - Find the boundaries:
        - The next step of this part of the process is to find the boundaries of your system by looking at the events. Two types of boundaries can emerge. The first type of boundary is a time boundary. Often, specific pivotal events indicate a change from one aspect of a system to another. This change can happen at a hand-off from one persona to another, but it can also happen at a change of geographical, legal, or other type of boundary. If you notice that the terms on the event sticky notes change at these boundaries, you're seeing a "bounded context" in Domain-Driven Design terms. Highlight pivotal events by putting blue painter’s tape vertically behind the event.
        - The second type of boundary is a subject boundary. You can detect a subject boundary by looking for these conditions:
            - You have multiple simultaneous series of events that come together only later.
            - The same terms are used in the event descriptions for a series of events.
            - You can “read” a series of events from the point of view of a different persona when you're replaying them.
        - Indicate these different sets of simultaneous event streams by applying blue painter’s tape horizontally, dividing the wall into different swimlanes.
        - This diagram is an example of a set of ordered domain events with pivotal events and subject swimlanes indicated. This example comes from applying event storming to the domain of container shipping and is discussed in more detail in the Container Shipment Analysis example.
    - Locate the commands:
        - In this step, you shift from analysis of the domain to the first stages of system design. Until now, you were trying to understand how the events in the domain related to one another, which is why the participation of domain experts was critical. To build a system that implements the business process that you're interested in, you must move on to the question of how these events occur.
        - Commands are the most common mechanism that is used to create events. The key to finding commands is to ask "Why did this event occur?" In this step, the focus of the process moves to the sequence of actions that lead to events. Your goal is to find the causes for which the events record the effects. Examples of expected event trigger types are as follows:
            - A human operator makes a decision and issues a command.
            - An external system or sensor provides a stimulus.
            - An event results from a policy, typically the automated processing of a precursor event.
            - The completion of a determined period of elapsed time.
        - In this example, the triggering command is identified on a blue sticky note. This command can become a microservice API in a later implementation. The human persona that issues the command is identified on a yellow sticky note. In the diagram in Step 5, the manufacturer actor requests a quote for delivering goods in a container. When the quote arrives, the manufacturer uses the place a shipment order command to create a shipment order placed event.
    - Describe the data:
        - You can't truly define a command without understanding the data that is needed for the command to run to produce the event. 
        - You can identify several types of data during this step. 
        - First, users (personas) need data from the user interface to make decisions before they run a command. 
            - That data forms part of the read model in a CQRS implementation. 
        - For each command and event pair, you add a data description of the expected attributes and data elements that are needed to make such a decision. 
        - The following diagram shows a simple example for a shipment order placed event that is created from a place a shipment order action.
        - In this step, you also more fully describe the policies that can trigger the generation of an event from a previous event or set of events.
            - This first level of data definition helps you to assess the microservice scope and responsibility as you start to see that commonalities emerge from the data that is used among several related events. 
        - These concepts become more obvious in the next step.
    - Identify the aggregates:
        - In Domain-Driven Design, entities and value objects can exist independently, but often the relations are such that an entity or a value object has no value without its context. 
            - Aggregates provide that context by being the roots that make up one or more entities and value objects that are linked together through a lifecycle. 
            - In event storming, aggregates emerge through the process by grouping events and commands that are related. 
            - This grouping not only consists of related data (entities and value objects) but also related actions (commands) that are connected by the lifecycle of that aggregate. 
            - Ultimately, aggregates suggest microservice boundaries.
        - In this container shipment example, you can group command and event pairs and their associated data that are related through the lifecycle of an order for shipping.
    - Define the business context:
        - In this step, you define terms and concepts with a clear meaning that is valid in a clear boundary. 
        - The term definition can change outside the business unit that an application is developed for.
    - Look forward with insight storming
        - In event storming for event-driven architecture solutions, include an extra step to identify useful predictive analytics insights.
        - Insight storming extends the basic methodology by looking forward and considering what might happen if you knew in advance that an event was going to occur. How would this knowledge change your actions and what would you do before the event happens?
        - Think of insight storming as extending the analysis to derived events. Rather than being the factual recording of a past event, a derived event is a forward-looking or predictive event. That is, "this event is probably going to happen at some time in the next n hours”.
        - By using this forward-looking insight and the known business data from earlier events, human actors and event-triggering policies can make better decisions about how to react to new events as they occur. In insight storming, you ask workshop participants, "What data would be helpful at each event trigger to help the human user or automated event-triggering policy to decide how and when to act?"
        - An important motivation that drives the use of an event-driven architecture is that it simplifies the design and realization of highly responsive systems. These systems react immediately and intelligently, in a personalized and context-aware way, and optimally react to new events as they occur. This reactivity suggests that predictive analytics and models to generate predictive insights have an important role to play.
        - Predictive analytic insights are effectively probabilistic statements about which future events are likely to occur and what are the likely properties of those events. These probabilistic statements are generated by using models that are created by data scientists or by using AI or machine learning. Correlating or joining independently gathered sources of information can also generate important predictive insights or be input to predictive analytic models.
        - Business owners and stakeholders in the event-storming workshop can offer good intuitions in several areas:
            - Which probabilistic insights are likely to lead to improved or optimal decision making and action?
                - The action might take the form of an immediate response to an event when it occurs.
                - The action might be proactive behavior to avoid an undesirable event.
            - What combined sources of information are likely to help create a model to predict this insight?
        - With basic event storming, you look back at each event because an event is something that happened. When you identify data that is needed for an actor or policy to decide when and how to issue a command, you might restrict considerations to properties of earlier known and captured business events. In insight storming, you extend the approach to look forward and consider what the probability is that a particular event might occur and what its expected property values might be. How would this knowledge change the best action to take when and if this event occurs? Is there action that you can take proactively in advance of an expected undesirable event to prevent it from happening or mitigate the consequences?
        - In the insight step, the workshop participants identify value by adding derived events and the data sources that are needed for the models that generate them. Adding an insight-storming step that uses these questions can improve decision making and proactive behavior in the resulting design.
        - By identifying derived events, you can integrate analytic models and machine learning into the designed solution. Event and derived event feeds can be processed, filtered, joined, aggregated, modeled, and scored to create valuable predictive insights.
        - Use these new notations for the insight step:
            - One color of sticky notes for derived events. In this example, pale blue sticky notes were used.
            - Parallelograms to show when events and derived events are combined to enable deeper insight models and predictions.
        - Identify predictive insights as early as possible in the development lifecycle. The best way to identify them is to add this step to the event storming workshop.
        - These two diagrams show the results of the insight storming step for the use case of container shipment analysis. The first diagram captures insights and associated linkages for each refrigerated container. It identifies when automated changes to the thermostat settings can be made, when unit maintenance must be scheduled, and when the container contents must be considered spoiled.
        - The second diagram captures insights that might trigger recommendations to adjust the ship's course or speed in response to certain conditions:
            - Expected severe weather forecasts for the route ahead
            - Predicted congestion and expected docking and unloading delays at the next port of call

    - Citation:
        - https://www.ibm.com/cloud/architecture/architecture/practices/event-storming-methodology-architecture/
